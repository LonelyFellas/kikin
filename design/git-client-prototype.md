# Git项目管理桌面客户端原型设计

## 整体布局设计

### 主窗口结构
```
┌─────────────────────────────────────────────────────────────────┐
│ 标题栏: Git项目管理器 v1.0.0                    [最小化][最大化][关闭] │
├─────────────────────────────────────────────────────────────────┤
│ 菜单栏: 文件 | 编辑 | 视图 | 工具 | 帮助                           │
├─────────────────────────────────────────────────────────────────┤
│ 工具栏: [刷新] [克隆] [新建] [设置] [搜索框: 搜索项目...]           │
├─────────────┬───────────────────────────────────────────────────┤
│             │                                                   │
│  侧边栏     │                主内容区域                           │
│  (200px)    │                                                   │
│             │                                                   │
│ ┌─────────┐ │  ┌─────────────────────────────────────────────┐   │
│ │ 项目列表 │ │  │ 项目详情面板                                │   │
│ │         │ │  │                                             │   │
│ │ • 项目A  │ │  │ 项目名称: MyAwesomeProject                  │   │
│ │ • 项目B  │ │  │ 路径: /Users/workspace/MyAwesomeProject     │   │
│ │ • 项目C  │ │  │ 最后更新: 2024-01-15 14:30                 │   │
│ │         │ │  │                                             │   │
│ │         │ │  │ ┌─────────────────────────────────────────┐ │   │
│ │         │ │  │ │ Git状态面板                             │ │   │
│ │         │ │  │ │                                         │ │   │
│ │         │ │  │ │ 当前分支: main                          │ │   │
│ │         │ │  │ │ 未提交更改: 3个文件                     │ │   │
│ │         │ │  │ │ 远程状态: 领先2个提交                   │ │   │
│ │         │ │  │ │                                         │ │   │
│ │         │ │  │ │ [查看差异] [提交更改] [推送] [拉取]      │ │   │
│ │         │ │  │ └─────────────────────────────────────────┘ │   │
│ │         │ │  │                                             │   │
│ │         │ │  │ ┌─────────────────────────────────────────┐ │   │
│ │         │ │  │ │ 最近提交历史                            │ │   │
│ │         │ │  │ │                                         │ │   │
│ │         │ │  │ │ • feat: 添加新功能 (2小时前)            │ │   │
│ │         │ │  │ │ • fix: 修复bug (1天前)                  │ │   │
│ │         │ │  │ │ • docs: 更新文档 (3天前)                │ │   │
│ │         │ │  │ └─────────────────────────────────────────┘ │   │
│ └─────────┘ │  └─────────────────────────────────────────────┘   │
│             │                                                   │
│ ┌─────────┐ │                                                   │
│ │ 快速操作 │ │                                                   │
│ │         │ │                                                   │
│ │ [克隆]   │ │                                                   │
│ │ [新建]   │ │                                                   │
│ │ [导入]   │ │                                                   │
│ └─────────┘ │                                                   │
└─────────────┴───────────────────────────────────────────────────┘
```

## 功能模块详细设计

### 1. 侧边栏 - 项目列表
- **项目分组**
  - 最近项目 (最近打开的5个项目)
  - 收藏项目 (用户标记为收藏的项目)
  - 所有项目 (按路径分组)
  - 标签分组 (用户自定义标签)

- **项目项显示信息**
  - 项目名称
  - 项目路径 (简化显示)
  - Git状态指示器 (干净/有更改/有冲突)
  - 分支名称
  - 最后活动时间

### 2. 主内容区域 - 项目详情

#### 2.1 项目概览面板
```
┌─────────────────────────────────────────────────────────────┐
│ 项目概览                                                    │
├─────────────────────────────────────────────────────────────┤
│ 项目名称: MyAwesomeProject                                  │
│ 项目路径: /Users/workspace/MyAwesomeProject                 │
│ 项目类型: Node.js                                          │
│ 创建时间: 2024-01-01                                       │
│ 最后更新: 2024-01-15 14:30:25                              │
│ 项目大小: 15.2 MB                                          │
│ 文件数量: 1,234 个文件                                      │
└─────────────────────────────────────────────────────────────┘
```

#### 2.2 Git状态面板
```
┌─────────────────────────────────────────────────────────────┐
│ Git状态                                                     │
├─────────────────────────────────────────────────────────────┤
│ 当前分支: main (本地) → origin/main (远程)                   │
│ 分支状态: 领先 2 个提交，落后 0 个提交                       │
│ 工作区状态: 3 个文件已修改，1 个文件已暂存                   │
│ 远程仓库: https://github.com/user/MyAwesomeProject.git      │
│                                                             │
│ 操作按钮:                                                   │
│ [查看差异] [暂存更改] [提交] [推送] [拉取] [合并] [变基]      │
└─────────────────────────────────────────────────────────────┘
```

#### 2.3 文件更改面板
```
┌─────────────────────────────────────────────────────────────┐
│ 文件更改 (3个文件)                                          │
├─────────────────────────────────────────────────────────────┤
│ 状态 │ 文件路径                    │ 更改类型 │ 操作          │
├─────┼─────────────────────────────┼─────────┼───────────────┤
│ M   │ src/components/Header.tsx   │ 修改    │ [查看] [撤销]  │
│ A   │ src/utils/helpers.js        │ 新增    │ [查看] [撤销]  │
│ D   │ old/legacy-code.js          │ 删除    │ [查看] [撤销]  │
└─────┴─────────────────────────────┴─────────┴───────────────┘
```

#### 2.4 提交历史面板
```
┌─────────────────────────────────────────────────────────────┐
│ 提交历史                                                    │
├─────────────────────────────────────────────────────────────┤
│ 作者头像 │ 提交信息                    │ 作者    │ 时间        │
├─────────┼─────────────────────────────┼─────────┼────────────┤
│ 👤      │ feat: 添加用户认证功能       │ 张三    │ 2小时前     │
│ 👤      │ fix: 修复登录页面bug         │ 李四    │ 1天前       │
│ 👤      │ docs: 更新API文档           │ 王五    │ 3天前       │
│ 👤      │ style: 优化UI样式           │ 张三    │ 1周前       │
└─────────┴─────────────────────────────┴─────────┴────────────┘
```

### 3. 底部状态栏
```
┌─────────────────────────────────────────────────────────────┐
│ 就绪 | 项目: MyAwesomeProject | 分支: main | 更改: 3个文件    │
└─────────────────────────────────────────────────────────────┘
```

## 主要功能特性

### 1. 项目管理
- **项目扫描**: 自动扫描指定目录下的Git仓库
- **项目收藏**: 标记常用项目为收藏
- **项目标签**: 为项目添加自定义标签进行分类
- **最近项目**: 快速访问最近打开的项目

### 2. Git操作
- **状态查看**: 实时显示工作区、暂存区状态
- **差异查看**: 可视化文件差异对比
- **提交管理**: 图形化提交界面
- **分支管理**: 创建、切换、合并分支
- **远程操作**: 推送、拉取、同步

### 3. 代码历史
- **提交历史**: 时间线式提交记录
- **文件历史**: 单个文件的修改历史
- **作者统计**: 贡献者统计信息
- **代码热力图**: 提交活动热力图

### 4. 搜索功能
- **全局搜索**: 跨项目搜索
- **提交搜索**: 按提交信息搜索
- **文件搜索**: 按文件名搜索
- **作者搜索**: 按作者搜索

### 5. 设置与配置
- **主题设置**: 明暗主题切换
- **快捷键**: 自定义快捷键
- **Git配置**: 全局Git配置管理
- **插件系统**: 支持第三方插件

## 技术实现建议

### 前端技术栈
- **框架**: Electron + React/Vue
- **UI库**: Ant Design / Material-UI
- **状态管理**: Redux/Vuex
- **图表**: D3.js / Chart.js

### 后端技术
- **Git操作**: nodegit / simple-git
- **文件系统**: Node.js fs API
- **数据库**: SQLite (本地存储)

### 核心功能实现
1. **Git仓库检测**: 扫描目录查找.git文件夹
2. **Git状态解析**: 解析git status输出
3. **差异计算**: 使用git diff命令
4. **历史查询**: 使用git log命令
5. **分支管理**: 使用git branch命令

## 用户交互流程

### 1. 首次启动
1. 用户启动应用
2. 扫描默认目录(如~/Documents, ~/Desktop)
3. 显示发现的Git仓库列表
4. 用户可以选择添加更多目录

### 2. 日常使用
1. 从侧边栏选择项目
2. 查看项目状态和更改
3. 执行Git操作(提交、推送等)
4. 查看提交历史和差异

### 3. 项目管理
1. 添加新项目(克隆或导入)
2. 组织项目(收藏、标签)
3. 配置项目设置
4. 删除不需要的项目

这个设计提供了一个功能完整、用户友好的Git项目管理界面，类似于GitLens但专门为桌面环境优化。
